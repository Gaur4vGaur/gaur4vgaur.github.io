{"expireTime":9007200872113481000,"key":"transformer-remark-markdown-html-0993515a472c2e763caa8afe4af27570-gatsby-remark-imagesgatsby-remark-vscodegatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-smartypantsgatsby-remark-copy-linked-filesgatsby-remark-reading-timegatsby-remark-social-cards-","val":"<p>A microservice should be business-centric or domain-centric. It should be designed to represent a business function. A business-centric service helps to scope the service and to control the size. The idea is borrowed from the domain-driven design where the primary focus is on core domain logic with a bounded context. For eg HMRC is a huge organization and it needs to send many updates to all taxpayers across the UK. Hence, HMRC needs email functionality. It would be sensible to have a service that can handle all email related functionalities such as verifying an email, drafting an email for updates, maintaining templates based on users, etc. Thus, we can say that email itself is a business function. So HMRC created microservice to address the same. The code for the service can be found at <a href=\"https://github.com/hmrc/email-verification\" target=\"_blank\">hmrc/email-verification</a>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/26eded1726cf2d3907a0631fd342d641/0b533/business-centric-mircoservice.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35.13513513513513%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABdElEQVQY0zWKa0+CUACG+fn1K1prXVZDTUXwmtpUwEjksLyF4KWUlIuJB5TDOZ259e7Z++HZwxCCY4QTTPzdfjwxpqY5X6ziGFFPSTA+IZIkZLlcfRqmMbXWtoMSQqFjND1+aUCxG7bFfY6z2fRPrbERStHjE+5IqNmOWp1DR4L1VzeVsTlh/dJwpS6s1uHaRowoR5I8BDpQVUWS568tbzTqcbx3eUEy2aQjB6Y1FcXubGYqvcPY+AIA6Hpf1ez5EjFtMX5iIV8MCwJkU+HDY1QQDmzqeHWFypU4m49yXJgvQI6H6eeITYeZLKTB7d1xtkDM23us69+KogHwAXRH6TmDwbjf1yeflqwcK7WtqgJNG6nqEACt3lxL8tayJvcPJ2OaMFL3xBV35eqGdnwxyPFBre6Uqluh5DdbR044FCubcs0pVba0yWR/83zQaLnXN6fZPGHCCDsu8XzieWd84p6fSgjxPsDuv6f4u3Pgkt0vRgj/AWaOZz1EflPGAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Designing Business Centric Microservice\"\n        title=\"Designing Business Centric Microservice\"\n        src=\"/static/26eded1726cf2d3907a0631fd342d641/0b533/business-centric-mircoservice.png\"\n        srcset=\"/static/26eded1726cf2d3907a0631fd342d641/12f09/business-centric-mircoservice.png 148w,\n/static/26eded1726cf2d3907a0631fd342d641/e4a3f/business-centric-mircoservice.png 295w,\n/static/26eded1726cf2d3907a0631fd342d641/0b533/business-centric-mircoservice.png 500w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>The first step towards designing a microservice is to coarsely analyze a  business domain. The business domain is then further split to represent separate business functions or bounded context. Every bounded context can then be made as a microservice. These extracted microservices can interact with each other using well-defined APIs.</p>\n<p>As the various microservices will be in constant interaction, we need to think about the inputs and outputs for each microservice. The microservices are sometimes designed based on technical boundaries for eg a common piece of functionality is extracted as a separate service as the same calculation is used by various modules, or a microservice is designed to access common reference data for all other microservices.</p>\n<p>As an example let us have a look at <a href=\"https://github.com/hmrc/gmp-frontend\" target=\"_blank\">hmrc/gmp-frontend</a> and <a href=\"https://github.com/hmrc/gmp\" target=\"_blank\">hmrc/gmp</a> services. The services are used to calculate Guaranteed Minimum Pension calculation for a member of a contracted-out scheme under certain circumstances. These services are split into two business functions, where gmp-frontend takes care of all the user interactions and gmp handles all the calculations. The two services constantly talk to each other to serve the users.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"}