{"expireTime":9007200872113774000,"key":"transformer-remark-markdown-html-ast-b114f569141574db833f752f5fd592e1-gatsby-remark-imagesgatsby-remark-vscodegatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-smartypantsgatsby-remark-copy-linked-filesgatsby-remark-reading-timegatsby-remark-social-cards-","val":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A microservice must have ","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":26,"offset":26}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"high cohesion","position":{"start":{"line":2,"column":28,"offset":28},"end":{"line":2,"column":41,"offset":41}}}],"position":{"start":{"line":2,"column":26,"offset":26},"end":{"line":2,"column":43,"offset":43}}},{"type":"text","value":". Microservice should focus on single functionality and should be consistent in terms of functionality, input and outputs. Consider it as a self-contained unit managing its own lifecycle.","position":{"start":{"line":2,"column":43,"offset":43},"end":{"line":2,"column":230,"offset":230}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":230,"offset":230}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2b1fb1baa5f6d3df7f4e33bed9972a60/0b533/img.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.89189189189189%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACbklEQVQoz3VRXW/SYBTuP/Bf+Au8MNmN3mj8yG6MxiWLcfFC4zQmW2IkIZFsIZhlS9wiWZSMfZlNFhIFBpsVQWUTOtgssIKsBddRoGVAYUCh37ZUCDc+F+fNe857zvO8zwEkSVaQb4hj3trCflWWtYRySKIoSh0o12abb7G8KMkMq145XlQiQDd5P1xcDBYH3mbvrWa2wvmdOKX0yt0RSqy3uMu6j8NGh9VLjVlQKFX5BFfTxRbgCBau63d1lv3p76TZi49MQdeeg1myls9lYRgGQTCJHDKcdOHR0pWni4al+PBEwLWXW4EqCaIBoMSZafnA5MRuORujjsLMh9icDWZZnqJIFMMgCMIwTCEvlusPXm4OjdvWfpzMB+jocVWVLaq6pGSJvbmaN3wmJZHvfburXI3Ks9FJ59CzJTBWeg1Sx2RDa5YEQS0XKvVoPCEoENX3mmEatCksJ+AnRKl02uJEqZMEegwcy3o8bo7j5Z5dfRA7CtMYmkome0YCffKkSCQi/wfabtAMjqRUC9q8ukZA+xKSpf3Rk/xp/SDDNNtCjm432rwyT+jI1ngUscYg88RToc7amhf/mAfG7eduTBvXU4MGeBlMr+zRIEJ31cmcIG5HqLUAcWeNuGRGrT78vTdTrDCAVre4ft1+sT65ENK/C9t3CVeUxorM0e8kkkhSBQL5U7r7KjJiCsz6iDc7pN4au/h4y+47UpmFjhm6uW/nr86sfElNfa35DstKBtoLh0KhRAIp0zWbL2N2Ju67a4O20vw2Zt6ACaoGdHaoNnt/ooZZN0rQm3AVp5py37q1k5fkCX/54QZOVhmt+hcvGJ/cUEQo/wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Designing High Cohesive Microservice\"\n        title=\"Designing High Cohesive Microservice\"\n        src=\"/static/2b1fb1baa5f6d3df7f4e33bed9972a60/0b533/img.png\"\n        srcset=\"/static/2b1fb1baa5f6d3df7f4e33bed9972a60/12f09/img.png 148w,\n/static/2b1fb1baa5f6d3df7f4e33bed9972a60/e4a3f/img.png 295w,\n/static/2b1fb1baa5f6d3df7f4e33bed9972a60/0b533/img.png 500w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>","position":{"start":{"line":4,"column":1,"offset":232},"end":{"line":4,"column":51,"offset":282}}}],"position":{"start":{"line":4,"column":1,"offset":232},"end":{"line":4,"column":51,"offset":282}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Let us refer to ","position":{"start":{"line":6,"column":1,"offset":284},"end":{"line":6,"column":17,"offset":300}}},{"type":"raw","value":"<a href=\"https://github.com/hmrc/email-verification\" target=\"_blank\">","position":{"start":{"line":6,"column":17,"offset":300},"end":{"line":6,"column":86,"offset":369}}},{"type":"text","value":"hmrc/email-verification","position":{"start":{"line":6,"column":86,"offset":369},"end":{"line":6,"column":109,"offset":392}}},{"type":"raw","value":"</a>","position":{"start":{"line":6,"column":109,"offset":392},"end":{"line":6,"column":113,"offset":396}}},{"type":"text","value":" as an example. The service has a single focus on verifying the emails. The microservice verifies the email address by firing the verification link to the provided email address. This service encapsulates all the logic/functionality of email verification. The microservice has only one reason to change. The service will be modified only if it needs to be upgraded or if there is a change in the business logic to verify the email.","position":{"start":{"line":6,"column":113,"offset":396},"end":{"line":6,"column":544,"offset":827}}}],"position":{"start":{"line":6,"column":1,"offset":284},"end":{"line":6,"column":544,"offset":827}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The idea of the Single Responsibility Principle is adopted from the object-oriented world. The principle of the service to be focused on specific business reason and to be highly cohesive. As the microservice is cohesive it is ","position":{"start":{"line":8,"column":1,"offset":829},"end":{"line":8,"column":228,"offset":1056}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"scalable, flexible and reliable","position":{"start":{"line":8,"column":230,"offset":1058},"end":{"line":8,"column":261,"offset":1089}}}],"position":{"start":{"line":8,"column":228,"offset":1056},"end":{"line":8,"column":263,"offset":1091}}},{"type":"text","value":".","position":{"start":{"line":8,"column":263,"offset":1091},"end":{"line":8,"column":264,"offset":1092}}}],"position":{"start":{"line":8,"column":1,"offset":829},"end":{"line":8,"column":264,"offset":1092}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The first of designing a microservice is to identify its focussed use case. We can determine the responsibility of the microservice either: by business requirements for eg email-verification needs to verify the email, or by a domain, where the focus is to create, update, fetch or delete the data.\nLet us refer to another service ","position":{"start":{"line":10,"column":1,"offset":1094},"end":{"line":11,"column":33,"offset":1424}}},{"type":"raw","value":"<a href=\"https://github.com/hmrc/tamc\" target=\"_blank\">","position":{"start":{"line":11,"column":33,"offset":1424},"end":{"line":11,"column":88,"offset":1479}}},{"type":"text","value":"hmrc/tamc","position":{"start":{"line":11,"column":88,"offset":1479},"end":{"line":11,"column":97,"offset":1488}}},{"type":"raw","value":"</a>","position":{"start":{"line":11,"column":97,"offset":1488},"end":{"line":11,"column":101,"offset":1492}}},{"type":"text","value":". The service allows a married couple to check if they are eligible for Marriage Allowance. The service concentrates on creating/updating/listing the relationships. The service requires the changes when government rules regarding the marriage allowance change for eg allowances going up or down. The microservice deals only with the calculation of marriage allowance, however, there is a separate microservice written to display marriage allowance data to users.","position":{"start":{"line":11,"column":101,"offset":1492},"end":{"line":11,"column":563,"offset":1954}}}],"position":{"start":{"line":10,"column":1,"offset":1094},"end":{"line":11,"column":563,"offset":1954}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This enables the marriage allowance team to enhance and deploy specific parts of the system.","position":{"start":{"line":13,"column":1,"offset":1956},"end":{"line":13,"column":93,"offset":2048}}}],"position":{"start":{"line":13,"column":1,"offset":1956},"end":{"line":13,"column":93,"offset":2048}}},{"type":"text","value":"\n"},{"type":"raw","value":"<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":14,"column":1,"offset":2049}}}}