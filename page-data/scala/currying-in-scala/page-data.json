{"componentChunkName":"component---src-templates-post-js","path":"/scala/currying-in-scala/","result":{"data":{"markdownRemark":{"id":"b18a742d-bed0-536c-b5f8-ec3a4f4a5575","excerpt":"Currying is named after Haskell Curry, an American mathematician. He is known for his work in combinatory logic. Currying is a means of transforming a function…","html":"<p>Currying is named after Haskell Curry, an American mathematician. He is known for his work in combinatory logic.</p>\n<p>Currying is a means of transforming a function that takes more than one argument into a chain of calls to functions, each of which takes a single argument.</p>\n<p>Let us consider the function below to calculate the final price of the product. The function takes in 3 parameters:</p>\n<ul>\n<li>VAT (<code class=\"language-text\">vat</code>) for the region</li>\n<li>Service charge (<code class=\"language-text\">serviceCharge</code>) of the shop</li>\n<li>Product price (<code class=\"language-text\">productPrice</code>)</li>\n</ul>\n<pre class=\"grvsc-container monokai\" data-language=\"java\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">def </span><span class=\"mtk5\">finalPrice</span><span class=\"mtk1\">(vat</span><span class=\"mtk7\">:</span><span class=\"mtk1\"> Double,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        serviceCharge</span><span class=\"mtk7\">:</span><span class=\"mtk1\"> Double,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        productPrice</span><span class=\"mtk7\">:</span><span class=\"mtk1\"> Double)</span><span class=\"mtk7\">:</span><span class=\"mtk1\"> Double </span><span class=\"mtk7\">=</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        productPrice </span><span class=\"mtk7\">+</span><span class=\"mtk1\"> productPrice</span><span class=\"mtk7\">*</span><span class=\"mtk1\">serviceCharge</span><span class=\"mtk7\">/</span><span class=\"mtk4\">100</span><span class=\"mtk1\"> </span><span class=\"mtk7\">+</span><span class=\"mtk1\"> productPrice</span><span class=\"mtk7\">*</span><span class=\"mtk1\">vat</span><span class=\"mtk7\">/</span><span class=\"mtk4\">100</span></span></span></code></pre>\n<p>But, if you think about the function finalPrice again, a shopkeeper has to provide all the above values time and again whenever he wants to calculate the final price. Of course, that ignores the fact that the values of:</p>\n<ul>\n<li>VAT is already defined for a country</li>\n<li>Service charge for a shop is constant</li>\n</ul>\n<p>So we will try to make life of our client a little easier. Let us define curried <code class=\"language-text\">finalPrice</code>:</p>\n<pre class=\"grvsc-container monokai\" data-language=\"java\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">def </span><span class=\"mtk5\">finalPriceCurried</span><span class=\"mtk1\">(vat</span><span class=\"mtk7\">:</span><span class=\"mtk1\"> Double)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">(serviceCharge</span><span class=\"mtk7\">:</span><span class=\"mtk1\"> Double)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">(productPrice</span><span class=\"mtk7\">:</span><span class=\"mtk1\"> Double)</span><span class=\"mtk7\">:</span><span class=\"mtk1\"> Double </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">productPrice </span><span class=\"mtk7\">+</span><span class=\"mtk1\"> productPrice</span><span class=\"mtk7\">*</span><span class=\"mtk1\">serviceCharge</span><span class=\"mtk7\">/</span><span class=\"mtk4\">100</span><span class=\"mtk1\"> </span><span class=\"mtk7\">+</span><span class=\"mtk1\"> productPrice</span><span class=\"mtk7\">*</span><span class=\"mtk1\">vat</span><span class=\"mtk7\">/</span><span class=\"mtk4\">100</span></span></span></code></pre>\n<p>We are taking this approach because our vat and <code class=\"language-text\">serviceCharge</code> will not change very often. So, let’s use currying to split our method. We will declare a new <code class=\"language-text\">val: vatApplied</code>. I will provide the value of vat to the <code class=\"language-text\">finalPriceCurried</code> method and assign it to <code class=\"language-text\">vatApplied</code>.</p>\n<pre class=\"grvsc-container monokai\" data-language=\"java\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">val vatApplied </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk5\">finalPriceCurried</span><span class=\"mtk1\">(</span><span class=\"mtk4\">20</span><span class=\"mtk1\">) </span><span class=\"mtk9 mtki\">_</span></span></span></code></pre>\n<p>Next, we will provide a service charge to my <code class=\"language-text\">vatApplied</code> val, and we will leave the <code class=\"language-text\">price</code> to be provided by the shopkeeper whenever they need it.</p>\n<pre class=\"grvsc-container monokai\" data-language=\"java\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">val serviceChargeApplied </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk5\">vatApplied</span><span class=\"mtk1\">(</span><span class=\"mtk4\">12.5</span><span class=\"mtk1\">)</span></span></span></code></pre>\n<p>Let us test our <code class=\"language-text\">serviceChargeApplied</code> function to calculate the final price of the product.</p>\n<pre class=\"grvsc-container monokai\" data-language=\"java\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">val finalProductPrice </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk5\">serviceChargeApplied</span><span class=\"mtk1\">(</span><span class=\"mtk4\">120</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">finalProductPrice</span><span class=\"mtk7\">:</span><span class=\"mtk1\"> Double </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk4\">159.0</span></span></span></code></pre>\n<p>We have reduced our method from accepting 3 parameters to accept one parameter. So, we have split our method in such a way that we don’t have to provide all the arguments at the same time. I can provide these arguments whenever they are available. This transformation is called currying.</p>\n<p>We can also convert our existing methods to curry methods using function curried method. I have seen currying used a lot in my production code. It is always good to understand how these things work. You can refer to the video below to understand the concept in more detail and to check out few more examples.</p>\n<iframe src=\"https://www.youtube.com/embed/txNAZXPSbiE\"></iframe>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .monokai {\n    background-color: #272822;\n    color: #f8f8f2;\n  }\n  .monokai .mtki { font-style: italic; }\n  .monokai .mtk1 { color: #F8F8F2; }\n  .monokai .mtk5 { color: #A6E22E; }\n  .monokai .mtk7 { color: #F92672; }\n  .monokai .mtk4 { color: #AE81FF; }\n  .monokai .mtk9 { color: #66D9EF; }\n  .monokai .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"title":"Currying in Scala","date":"January 02, 2018","subtitle":"This simple example of function currying shows a simple use case as well as code snippets to show how function currying saves time.","description":"This quick hands-on example of function currying, shows a simple use case as well as code snippets to show how function currying saves time."}}},"pageContext":{"slug":"/scala/currying-in-scala/","previous":{"frontmatter":{"title":"Partial Functions in Scala","subtitle":"Interested in learning some finer points of the Scala language? Read on to get a quick overview of Scala's partial functions, and how they aid in development.","description":"This quick hands-on lesson on partial functions in Scala and how they help in development. The article also provides partial function code snippet"},"fields":{"slug":"/scala/partial-functions/"}},"next":{"frontmatter":{"title":"Partially Applied Functions in Scala","subtitle":"A great primer for Scala devs or functional programming buffs in general, check out how (and why) to make use of partially applied functions.","description":"A great primer for Scala devs or functional programming buffs in general, check out how (and why) to make use of partially applied functions."},"fields":{"slug":"/scala/partially-applied-functions/"}}}},"staticQueryHashes":["786959418","852313850"]}